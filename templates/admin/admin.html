{% extends 'admin/users.html' %}
{% block title %}Администрирование{% endblock %}
{% block body %}

<style>
    /* Existing styles... */

.card-header.bg-primary {
    background-color: #007bff !important;
}

.card-header.bg-info {
    background-color: #17a2b8 !important;
}

.table th {
    background-color: #f8f9fa;
    border-top: none;
}

.form-label {
    font-weight: 500;
}

.btn-success {
    padding: 8px 20px;
    font-weight: 500;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .card {
        margin-bottom: 20px;
    }
}
</style>
<div class="container mt-5">
    <h1 class="mb-4">Панель администратора</h1>

    <div class="row">
        <div class="col-md-6">
            <div class="card shadow mb-4">
                <div class="card-header text-info bg-dark text-white">
                    <h3>Добавить данные</h3>
                </div>
                <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label for="data_type" class="form-label">Тип данных:</label>
                            <select class="form-select" id="data_type" name="data_type" required>
                                <option value="">Выберите тип...</option>
                                <option value="student">Студент</option>
                                <option value="program">Программа</option>
                                <option value="course">Курс</option>
                                <option value="document">Документ</option>
                            </select>
                        </div>

                        <div id="form-fields">
                            <!-- Dynamic fields will appear here -->
                        </div>

                        <div class="mb-3">
                            <label for="file_upload" class="form-label">Загрузить файл (если требуется):</label>
                            <input class="form-control" type="file" id="file_upload" name="file">
                        </div>

                        <button type="submit" class="btn btn-success">Сохранить</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header text-info bg-dark text-white">
                    <h3>Последние добавленные</h3>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Тип</th>
                                    <th>Название</th>
                                    <th>Дата</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in recent_items %}
                                <tr>
                                    <td>{{ item.type }}</td>
                                    <td>{{ item.name }}</td>
                                    <td>{{ item.date }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container mt-5">
    <h1 class="mb-4">Mediat</h1>
    <div class="card shadow mb-5">
        <div class="card-body">
            <h1>Télécharger des médias</h1>
               <form method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title">Titre (optionnel)</label>
                       <input type="text" class="form-control" id="title" name="title">
                </div>
                <div class="form-group">
                  <label for="file">Sélectionnez des fichiers (images ou vidéos)</label>
                     <input type="file" class="form-control-file" id="file" name="file" multiple>
                </div>
                <button type="submit" class="btn btn-primary">Télécharger</button>
                </form>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('data_type').addEventListener('change', function() {
    const formFields = document.getElementById('form-fields');
    const selectedType = this.value;

    formFields.innerHTML = '';

    if (selectedType === 'student') {
        formFields.innerHTML = `
            <div class="mb-3">
                <label for="full_name" class="form-label">ФИО:</label>
                <input type="text" class="form-control" id="full_name" name="full_name" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email:</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <div class="mb-3">
                <label for="program" class="form-label">Программа:</label>
                <input type="text" class="form-control" id="program" name="program">
            </div>
        `;
    } else if (selectedType === 'program') {
        formFields.innerHTML = `
            <div class="mb-3">
                <label for="program_name" class="form-label">Название программы:</label>
                <input type="text" class="form-control" id="program_name" name="program_name" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Описание:</label>
                <textarea class="form-control" id="description" name="description" rows="3"></textarea>
            </div>
            <div class="mb-3">
                <label for="duration" class="form-label">Длительность (мес):</label>
                <input type="number" class="form-control" id="duration" name="duration">
            </div>
        `;
    }
    // Add more conditions for other data types
});
</script>
{% endblock %}